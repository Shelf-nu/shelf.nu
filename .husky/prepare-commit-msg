echo "ğŸ” prepare-commit-msg running with message:"
cat "$1"
echo "---"

# Validate before expensive pre-commit checks run
npx --no -- commitlint --edit "$1" || {
  echo ""
  echo "âŒ Commit message doesn't follow Conventional Commits format"
  echo ""
  echo "Required format: type(scope?): description"
  echo ""
  echo "â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”"
  echo "â”‚ Type       â”‚ Meaning                  â”‚ When to Use                                                â”‚"
  echo "â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤"
  echo "â”‚ feat       â”‚ A new feature            â”‚ Adding something new users can use (e.g., dark mode)       â”‚"
  echo "â”‚ fix        â”‚ A bug fix                â”‚ Correcting a mistake that broke existing behavior          â”‚"
  echo "â”‚ chore      â”‚ Maintenance work         â”‚ Dependency bumps, build tweaks, formatting, etc.           â”‚"
  echo "â”‚ docs       â”‚ Documentation changes    â”‚ Updates to README, commentsâ€”just words, no logic           â”‚"
  echo "â”‚ style      â”‚ Formatting-only changes  â”‚ Whitespace, indentationâ€”no behavior change                 â”‚"
  echo "â”‚ refactor   â”‚ Code restructuring       â”‚ Changing how code is written without changing what it does â”‚"
  echo "â”‚ perf       â”‚ Performance improvements â”‚ Optimizations for speed or resources                       â”‚"
  echo "â”‚ test       â”‚ Adding or updating tests â”‚ Writing, fixing, or reorganizing tests                     â”‚"
  echo "â”‚ build      â”‚ Build system changes     â”‚ Updates affecting build process or dependencies            â”‚"
  echo "â”‚ ci         â”‚ CI/CD changes            â”‚ Modifications to CI/CD configuration or workflows          â”‚"
  echo "â”‚ revert     â”‚ Reverting a commit       â”‚ When you need to undo a previous commit                    â”‚"
  echo "â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜"
  echo ""
  echo "Examples:"
  echo "  feat: add user authentication"
  echo "  fix(api): resolve database connection issue"
  echo "  docs: update README with installation steps"
  echo "  chore: bump dependencies to latest versions"
  echo ""
  echo "ğŸ’¡ Tip: Long body lines are automatically wrapped at 100 characters"
  echo ""
  echo "Learn more: https://www.conventionalcommits.org"
  echo ""
  exit 1
}
